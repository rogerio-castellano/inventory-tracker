@url=http://localhost:8080
# Run the login request at the bottom of this file (@name login) to obtain the auth token
@token={{login.response.body.$.access_token}}
@product=1

### Get product to verify adjustments
GET {{url}}/products/{{product}} HTTP/1.1

### Adjust quantity
POST {{url}}/products/{{product}}/adjust HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "delta": 2
}

### 
POST {{url}}/products/{{product}}/adjust HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "delta": -2
}

###
POST {{url}}/products/{{product}}/adjust HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "delta": -100
}

### 
POST {{url}}/products/1000/adjust HTTP/1.1
Content-Type: application/json

{
    "delta": -2
}

###
# Login with valid credentials (keep it after business endpoints)
# @name login
POST {{url}}/login HTTP/1.1
Content-Type: application/json

{
    "username": "admin",
    "password": "secret"
}
